tags:: [[微信服务号]]
---

- ## 分类
	- 微信网页开发, 可分为:
		- 服务号网页开发
		  logseq.order-list-type:: number
		- 公众号网页开发
		  logseq.order-list-type:: number
- ## 如何拿到 jsapi_ticket
	- 通过 [获取接口调用凭据](https://developers.weixin.qq.com/doc/service/api/base/api_getaccesstoken.html) 拿到 `access_token` .
	  logseq.order-list-type:: number
		- ==需要用到 `APPID` 和 `APPSECRET` .==
	- GET 调用 `https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=${ACCESS_TOKEN}&type=jsapi` 得到 `jsapi_ticket` .
	  logseq.order-list-type:: number
- ## 如何计算签名
	- 首先准备如下几个字符串:
	  logseq.order-list-type:: number
		- `jsapi_ticket`
		  logseq.order-list-type:: number
		- `noncestr` : 随机字符串
		  logseq.order-list-type:: number
		- `timestamp` : 10 位时间戳 (秒)
		  logseq.order-list-type:: number
		- `url` : 当前网页 URL 去掉 `#` 及其后面的内容
		  logseq.order-list-type:: number
	- 以上字段, 按字段名的字典升序, 按 `key1=value1&key2=value2…` 格式, 组合成 **待签名字符串** .
	  logseq.order-list-type:: number
		- 如 `jsapi_ticket=sM4AOVdWfPE4DxkXGEs8VMCPGGVi4C3VM0P37wVUCFvkVAy_90u5h9nbSlYy3-Sl-HhTdfl2fzFy1AOcHKP7qg&noncestr=Wm3WZYTPz0wzccnW&timestamp=1414587457&url=http://mp.weixin.qq.com?params=value`
	- 对以上 **待签名字符串** 进行 `sha1` 签名计算, 得到最终结果.
	  logseq.order-list-type:: number
-
-