tags:: [[海威 365 特权]]
---

- ## 事先准备的参数
	- `share_code` : 合作商分销码（联系商务获取）.
	  logseq.order-list-type:: number
	- `secretKey` : 接口密钥.
	  logseq.order-list-type:: number
- ## 接口规范
	- 任意接口都是 `HTTPS` 协议.
	  logseq.order-list-type:: number
	- 任意接口的参数格式, 都是 `application/x-www-form-urlencoded` .
	  logseq.order-list-type:: number
	- 任意接口的字符编码, 都是 `UTF-8` .
	  logseq.order-list-type:: number
	- 任意接口都需要签名入参 `sign` .
	  logseq.order-list-type:: number
- ## 计算签名
	- 将所有请求字段 (除了 `sign` 字段), 按字典顺序, 根据如下格式进行拼接, 得到字符串 `A` .
	  logseq.order-list-type:: number
		- `key1=value1&key2=value2...`
		- 如: `String A = "shareCode=12eIDYTA&timestamp=1567074659106&userId=123";`
		- ==注意:==
			- 如果参数值为空, 则不参与签名.
			  logseq.order-list-type:: number
			- 如果参数名中, 有下划线, 则需要转为驼峰形式.
			  logseq.order-list-type:: number
				- 如 `share_code` 转为 `shareCode`, `user_id` 转为 `userId` .
			- 如果参数值中, 包含特殊字符 (比如中文), 签名时 **无需** 进行 URL 编码 .
			  logseq.order-list-type:: number
	- 在 `A` 之后, 按如下格式拼接 `secretKey` , 得到 `signTemp` .
	  logseq.order-list-type:: number
		- `A&secretKey=${secretKey}`
		- 如: `String signTemp = A+"&secretKey=CB0AC783FBFB84BFAC5C9341B69D3B33"`
	- 对 `signTemp` 进行 `md5` 计算, 并将结果转为 大写, 就得到最终的签名.
	  logseq.order-list-type:: number
	- 签名的值, 通过 `sign` 字段传递给接口.
	  logseq.order-list-type:: number
-