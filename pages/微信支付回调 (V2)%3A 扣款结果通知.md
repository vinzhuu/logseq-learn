tags:: [[WeChat Pay API]]
---

- ## 文档
	- [扣款结果通知 (V2)](https://pay.weixin.qq.com/doc/v2/merchant/4011987465)
	- ==该接口貌似只有 V2 , 用于 [[微信支付 - 委托代扣]]==
- ## 相关回调
	- 这个和 [[微信支付回调 (V2): 支付结果通知]] 的回调参数不同.
	- 与 V3 的 [[微信支付回调 (V3): 支付成功回调通知]] 的回调参数 (Json 数据) 就更不同了.
	- 但是验签方式, 与 [[微信支付回调 (V2): 支付结果通知]] 一致.
- ## 回调场景
	- "支付中签约" 后回调
	  logseq.order-list-type:: number
		- 调用 [[微信支付 API (V2): 支付中签约]] 拿到相关参数, 拉起微信支付, 用户完成支付之后 (不管有没有进行签约), 会进行回调.
	- "申请扣款" 后回调
	  logseq.order-list-type:: number
		- 调用 [[微信支付 API (V2): 申请扣款]] 实际发生扣款之后, 会进行回调.
- ## 如何判断扣款成功
- ## 关于 contract_id 字段
	-
- ## 关于 trade_state 字段
	- `"支付中签约" 后回调` 无 `trade_state` 字段
	- `"申请扣款" 后回调` 有 `trade_state` 字段.
-
-