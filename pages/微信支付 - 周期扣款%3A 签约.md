tags:: [[微信支付 - 委托代扣]]
---

- ## 签约模式
	- 参考:
		- [官方 - 委托代扣的纯签约模式和支付中签约模式有什么不同?](https://developers.weixin.qq.com/community/develop/doc/000eaa082e0a4068baebc035151409?highLine=%25E6%2594%25AF%25E4%25BB%2598%25E5%25B9%25B6%25E7%25AD%25BE%25E7%25BA%25A6)
		  logseq.order-list-type:: number
		- [官方 - 委托代扣分为哪几种模式？](https://developers.weixin.qq.com/community/develop/doc/00004e54ff0508f8b9eb745675b009?highLine=%25E7%25BA%25AF%25E7%25AD%25BE%25E7%25BA%25A6)
		  logseq.order-list-type:: number
	- ---
	- 纯签约模式. ( 参见: [[微信支付 - 周期扣款: 纯签约]] )
	  logseq.order-list-type:: number
		- 用户先进行签约, 签约成功后, 商户再使用申请扣款接口进行扣款。
	- 支付中签约模式 ( 参见: [[微信支付 - 周期扣款: 支付中签约]] )
	  logseq.order-list-type:: number
		- 支付后完成代扣协议的签约.
	- ==两种签约模式, 目前都只看到 V2 的, 没看到 V3 的.==
- ## 关于多次签约
	- 参考: [支付中签约](https://pay.weixin.qq.com/doc/v2/merchant/4011987320)
	- **(商户号, 模板 ID, 微信号)** 三元组, 只能存在一次签约.
	- 如果同一 **商户号** , 需要对同一 **微信号** 进行多次签约, 需要使用不同的 **模板 ID** .
- ## 解约流程
	- **用户** 点击 "解约" 按钮.
	  logseq.order-list-type:: number
	- **前端** 调用 **后端解约接口** .
	  logseq.order-list-type:: number
	- **后端解约接口** 调用 **微信 [申请解约] 接口** .
	  logseq.order-list-type:: number
	- **后端** 通过被动接收 **签约、解约结果通知** 和 主动调用 **微信 [查询签约关系] API** 来获取 **解约结果** .
	  logseq.order-list-type:: number
	- **后端** 根据 **解约结果** , 来做后续的 **业务处理** .
	  logseq.order-list-type:: number
-